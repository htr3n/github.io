<!DOCTYPE html>
<html lang="en" class="wf-firasans-n4-active wf-active">
	<head>
    <link href="http://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Enable responsiveness on mobile devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="description" content="htr3n&#39;s blog :: technology, opinions, and rants about everything">
    <meta name="keywords" content="blog,java,php,python,golang,javascript,shell,thoughts,macos,apple,tiếng việt,parental,family,apache,httpd,laravel,politics,critical thinking,chính trị,luật,hiến pháp,xã hội,gia đình">
    <meta name="generator" content="Hugo 0.39-DEV" />
    
    <title>Setting up a new Mac for software development &middot; htr3n&#39;s</title>
    <meta content="Setting up a new Mac for software development - htr3n&#39;s" property="og:title">
    <meta content="htr3n&#39;s blog :: technology, opinions, and rants about everything - " property="og:description">
    <!-- CSS -->
    <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:400,400i,700,700i|Source+Code+Pro:400,400i" rel="stylesheet">
    <link rel="stylesheet" href="https://htr3n.github.io/css/print.css" media="print">
    <link rel="stylesheet" href="https://htr3n.github.io/css/poole.css">
    <link rel="stylesheet" href="https://htr3n.github.io/css/hyde.css">
    <!-- Font-Awesome -->
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/all.js" integrity="sha384-xymdQtn1n3lH2wcu0qhcdaOpQwyoarkgLVxC/wZ5q7h9gHtxICrpcaSUfygqZGOe" crossorigin="anonymous"></script>
    <!-- highlight.js-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/zenburn.min.css">
    <!-- Customised CSS -->
    <link rel="stylesheet" href="https://htr3n.github.io/css/custom.css">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    

	</head>
    <body class=" ">
        <div class="sidebar">
  <div class="container text-center ">
    <div class="sidebar-about text-center">
      <a href="https://htr3n.github.io/"><h1 class="brand">htr3n&#39;s</h1></a>
       <img src="/img/avatar.png" alt="Author Image" class="img-circle headshot center"> 
      <p class="lead">
         technology, thoughts, opinions, rants 
      </p>
    </div>
    
<div>
	<ul class="sidebar-nav">
		
		
				<li>
					<a href="/posts/"> <span>Articles</span></a>
				</li>
				<li>
					<a href="https://github.com/htr3n/"> <span>Code</span></a>
				</li>
				<li>
					<a href="/about/"> <span>About</span></a>
				</li>
				<li>
					<a href="/vn/"> <span>Tiếng Việt</span></a>
				</li>
		</li>
	</ul>
</div>

    <p>
      <section class="row text-center">
	
	<a href="https://twitter.com/htr3n"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a>
	
	
	
	&nbsp;<a href="https://github.com/htr3n"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	&nbsp;<a href="https://bitbucket.org/hoanghuytran"><i class="fab fa-bitbucket fa-lg" aria-hidden="true"></i></a>
	
	
	&nbsp;<a href="https://gitlab.com/htr3n"><i class="fab fa-gitlab fa-lg" aria-hidden="true"></i></a>
	
	
	
	&nbsp;<a href="https://linkedin.com/in/htr3n"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a>
	
	
	&nbsp;<a href="https://stackoverflow.com/users/339302"><i class="fab fa-stack-overflow fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	&nbsp;<a href="mailto:hoang.huy.tran&#43;blog@gmail.com"><i class="fas fa-at fa-lg" aria-hidden="true"></i></a>
	
</section>

    </p>
    <p class="copyright">&copy; 2018 htr3n.
      <a href="https://creativecommons.org/licenses/by/4.0">Some Rights Reserved</a>.<br/>Built with <a href="https://gohugo.io/">Hugo</a> &amp; <a href="https://github.com/htr3n/hyde-hyde">hyde-hyde</a>.
    </p>
  </div>
  <div>
  </div>
</div>

        <div class="content container">
            <div class="post">
  <h1>Setting up a new Mac for software development</h1>
  
  <div class="col-sm-12 col-md-12">
    <span class="text-left post-date meta">
            
       
        <i class="fas fa-calendar-alt"></i> Jun 27, 2018
      
      
        
        
            in
            
            
                <a class="meta" href="/categories/dev">DEV</a>
                
            
        
      
      
      
        
        
            <br/>
             <i class="fas fa-tags"></i>
            
            <a class="meta" href="/tags/gatekeeper">gatekeeper</a> 
        
            <a class="meta" href="/tags/homebrew">homebrew</a> 
        
            <a class="meta" href="/tags/iterm">iterm</a> 
        
            <a class="meta" href="/tags/macos">macos</a> 
        
            <a class="meta" href="/tags/sip">sip</a> 
        
            <a class="meta" href="/tags/visual-studio-code">visual-studio-code</a> 
        
            <a class="meta" href="/tags/zsh">zsh</a>
        
      
      
      <br/>
      <i class="fas fa-clock"></i> 8 min read 
      </span>  
  </div>    
  
  

<p>I have experienced a number of different Mac systems, ranging from the old white MacBook 2006 to the MacMini 2010 and MacBook Pro 13&rdquo; and 15&rdquo; lately. Time Machine has helped me a lot to transfer data from the old to the new machine. Nevertheless, a lot of changes, mostly for software development, have often been ignored or reset to the defaults due to many reasons (e.g. against security advice, etc.)</p>

<p>In this memo, I jot down a few useful tweaks for my Mac development box so that I can easily reach out later instead of searching around again.</p>

<h2 id="system-tweaks">System Tweaks</h2>

<h3 id="disable-system-integrity-protection-sip">Disable System Integrity Protection (SIP)</h3>

<p><a href="https://support.apple.com/en-us/ht204899">System Integration Protection</a> (SIP) is a security technology since OS X El Capitan 10.11 aiming at protecting certain system files and folders against malicious software. SIP even limits the access and actions of the root user account on protected parts of OS X. Unfortunately, the folder  <code>/usr</code> needed for installing many development tools and utilities is under protection as well. That makes a lot of tools like <a href="https://brew.sh">Homebrew</a> fail to install. We can easily check SIP&rsquo;s current status.</p>

<pre><code class="language-sh">$ csrutil status
System Integrity Protection status: enabled.
</code></pre>

<p>The tweak I always do right after installing or recovering a Mac is to disable SIP. Just (re)start macOS in <em>Recovery Mode</em> (restarting or turning on your Mac and immediately pressing <strong>Cmd</strong> + <strong>R</strong> &mdash; shortcut to remember &lsquo;<strong>R</strong>&rsquo; for &lsquo;<strong>R</strong>ecovery&rsquo;) until macOS boots into its recovery mode. Then open menu &lsquo;<em>Utility</em> &gt; <em>Terminal</em>&rsquo; and execute the following commands.</p>

<pre><code class="language-sh">$ csrutil disable
$ reboot
</code></pre>

<p>Your Mac will reboot and get back to the normal working mode. You can verify SIP status again.</p>

<pre><code class="language-sh">$ csrutil status
System Integrity Protection status: disabled.
</code></pre>

<h3 id="disable-gatekeeper">Disable Gatekeeper</h3>

<p><em>Gatekeeper</em> was first introduced in OS X Mountain Lion. It is a security feature that prevents the users from launching potentially harmful apps. From macOS Sierra and later, however, Apple has made changes to Gatekeeper to even limit furthermore. Users only can see two choices in <em>System Preferences</em> &ndash;&gt; <em>Security &amp; Privacy</em>, which are &lsquo;<em>Allow apps downloaded from App Store or App Store and identified developers</em>&rsquo;. That means only signed apps are allowed to launch, i.e. breaking a lot of useful unsigned apps whose developers cannot afford to pay 99 US$ per membership year for <em>Apple Developer Program</em>.</p>

<p><img src="enabled-gatekeeper.png" alt="Enabled Gatekeeper" width="480" align="center"></p>

<p>Nonetheless, Gatekeeper can still be disabled. You do not have to restart macOS but only after executing the following command.</p>

<pre><code class="language-sh">sudo spctl --master-disable
</code></pre>

<p><img src="disabled-gatekeeper.png" alt="Disabled Gatekeeper" width="480" align="center"></p>

<p>Surely Gatekeeper can be enabled at any time.</p>

<pre><code class="language-sh">sudo spctl --master-enable
</code></pre>

<h3 id="revealing-library">Revealing &lsquo;~/Library&rsquo;</h3>

<p>In macOS, the folder &lsquo;<em>~/Library</em>&rsquo; within users home folder is hidden (since 10.7?) seemingly to prevent any unintentional changes. It&rsquo;s not so difficult to navigate to this folder (and any other folders) using command line. In case you want to use Finder to navigate and explore &lsquo;<em>~/Library</em>&rsquo;, we can simply use the following command.</p>

<pre><code class="language-sh">$ chflags nohidden ~/Library
</code></pre>

<h2 id="development-tools">Development Tools</h2>

<h3 id="homebrew-https-brew-sh"><a href="https://brew.sh">Homebrew</a></h3>

<p>Homebrew provides a rich collection of tools I need, mostly open sources, that Apple does not. Installing Homebrew is super easy with a one-liner command. Before that, we only have to to install the Xcode command line tools that Homebrew needs to build its tools.</p>

<pre><code class="language-sh"># install Xcode command line developer tools
$ xcode-select --install

# now install Homebrew
$ /usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;
</code></pre>

<p>Then we need to add <code>/usr/local/bin</code> and <code>/usr/local/sbin</code> (where Homebrew links the executable files) to the environment variable <code>PATH</code>. This can be done by altering the shell startup scripts. For instance, for bash shell it is _~/.bash<em>profile</em>, for zsh shell it is _~/.zsh<em>profile</em>.</p>

<pre><code class="language-shell">export PATH=$PATH:/usr/local/bin:/usr/local/sbin
</code></pre>

<p>Should you want the Homebrew tools have higher priority than the others, just put <em>$PATH</em> at the end instead. We now can start using <code>brew</code> to install some necessary tools.</p>

<pre><code class="language-sh">$ brew install ack ant curl dnsmasq docker gcc git go gradle maven mysql node openssl openssh python3 postgresql php72 composer r ruby rbenv sassc yarn tmux zsh 
</code></pre>

<p>Homebrew can also help handling macOS start-up services which are useful for managing servers like Apache httpd, nginx, php-fpm, MySQL, PostgreSQL, etc.</p>

<pre><code class="language-sh">$ brew services start httpd
$ brew services stop httpd
</code></pre>

<p>For quick re-installing or recovering Homebrew, we can use <a href="https://github.com/Homebrew/homebrew-bundle">homebrew-bundle</a> for backing up the current Homebrew&rsquo;s installation and restoring later.</p>

<pre><code class="language-sh"># tap the bundle
$ brew tap Homebrew/bundle
# dump all existing Homebrew packages to Brewfile
$ brew bundle dump --force
# check the list of entries
$ brew bundle list
# restore/install all packages from the Brewfile 
$ brew bundle
</code></pre>

<p>Homebrew also incorporates <a href="https://github.com/Homebrew/homebrew-cask">Homebrew-Cask</a> (formerly an independent plugin for Homebrew) that can help to install many macOS apps as you might see in the subsequent parts.</p>

<h3 id="terminals-and-shells">Terminals and Shells</h3>

<p>Since working with Linux a lot and then macOS, I&rsquo;m rather familiar with the command line. There are many cases using terminals would be more convenient than graphical editors. Thus, I need a good terminal app. The built-in Terminal app in macOS is not bad but I usually opt for <a href="https://www.iterm2.com">iTerm2</a>.</p>

<pre><code class="language-sh">$ brew cask install iterm2
</code></pre>

<p>Some of my favorite settings for iTerms are including light dark themes such as <a href="https://draculatheme.com/iterm">Dracula</a>, <a href="https://gist.github.com/meqif/1238378">IR_Black</a>, <a href="https://github.com/junegunn/seoul256-iTerm2">seoul_256</a> along with any of these fixed width fonts <a href="https://github.com/adobe-fonts/source-code-pro">Source Code Pro</a>, <a href="https://fonts.google.com/specimen/Cousine">Cousine</a>, <a href="https://fonts.google.com/specimen/Roboto+Mono">Roboto Mono</a>, <a href="https://github.com/tonsky/FiraCode">Fira Code</a> or <a href="https://www.typography.com/fonts/operator/overview/">Operator Mono</a> (nice ligatures), <a href="https://fonts.google.com/specimen/Inconsolata">Inconsolata</a> or its variants (Inconsolata-dz, Inconsolata-g), <a href="https://github.com/source-foundry/Hack">Hack</a>, <a href="https://typekit.com/fonts/input-mono">Input Mono</a>. Few of these fonts can be installed via Homebrew Cask.</p>

<p>Along with iTerms 2, I also love <a href="http://www.zsh.org">Z shell</a> (zsh) which is an extended version of Bash shell a lot with many nice features like directory alias, command completion, path expansion, etc. You might also find some Zsh configuration frameworks like <a href="https://ohmyz.sh">oh-my-zsh</a> or <a href="https://github.com/sorin-ionescu/prezto">Prezto</a> amazing to start with. I&rsquo;ve tried both of them and found oh-my-zsh a bit sluggish and Prezto a bit difficult to add more extensions or customize. I have actually used a small piece from either of them and found myself quickly forgetting the customised parts taken from the others. Hence, I decided to develop a set of my own <a href="https://github.com/htr3n/zsh-config">ZSH configurations</a>. Moreover, I often keep a habit of writting Shell scripts in standard sh/bash as much as possible and keep zsh-specific separately for better portability and compatibility.</p>

<h3 id="text-code-editors">Text/Code Editors</h3>

<p>There are quite a number of good editors in macOS for developers ranging from Sublime Text, TextMate, TextWrangler, the nerdy Vim/MacVim, Emacs, and recently Atom, Visual Studio Code, Brackets, to name but a few. In macOS Sublime Text is often an amazing editor for many but it is quite costly.</p>

<p>I tend to love <a href="https://atom.io">Atom</a> which is developed by Github as an effort to build a modern editor for developers. Atom has a plethora of extensions to become a promising choice. Nevertheless, I was skeptical with its sluggishness in early days and therefore leaned to <a href="https://code.visualstudio.com">Visual Studio Code</a>, my current Swiss-army-knife-editor-of-choice instead.</p>

<pre><code class="language-sh">$ brew cask install visual-studio-code
</code></pre>

<p>You can also install other editos using Cask. In the terminal/console, I mainly use vim for quick editing and also <a href="https://github.com/htr3n/vim-config">customised it</a> for personal use.</p>

<pre><code class="language-sh">$ brew install vim
</code></pre>

<p>For Markdown editors (e.g. Github infamous README.md), I often used <a href="http://macdown.uranusjr.com">MacDown</a>. After discovering <a href="https://typora.io">Typora</a>, MacDown becomes a second choice for now (at least until Typora&rsquo;s developers announce their paid version).</p>

<pre><code class="language-sh">$ brew cask install typora
</code></pre>

<h2 id="other-nice-tools-to-have">Other Nice Tools To Have</h2>

<h3 id="ack-https-beyondgrep-com"><a href="https://beyondgrep.com">Ack</a></h3>

<ul>
<li>faster than grep and easy to use</li>
</ul>

<pre><code class="language-sh">$ brew install ack
</code></pre>

<h3 id="dropbox-https-www-dropbox-com"><a href="https://www.dropbox.com">Dropbox</a></h3>

<ul>
<li>Many of our friends are sharing files using Dropbox ;). Note that it must be installed in &lsquo;<em>/Applications</em>&lsquo;</li>
</ul>

<pre><code class="language-sh">$ brew cask install --appdir=&quot;/Applications&quot; dropbox
</code></pre>

<h3 id="docker-ce-https-www-docker-com-community-edition-and-command-line"><a href="https://www.docker.com/community-edition">Docker CE</a> and command line</h3>

<ul>
<li>Every serious developer is talking about it ;)</li>
</ul>

<pre><code class="language-sh">$ brew cask install docker
$ brew install docker
</code></pre>

<h3 id="spectacle-https-www-spectacleapp-com"><a href="https://www.spectacleapp.com">Spectacle</a></h3>

<ul>
<li>This is an amazing free app for resizing windows using shortcuts. I use it a lot to quickly arrange the working windows.</li>
</ul>

<pre><code class="language-sh">$ brew cask install spectacle
</code></pre>

<h3 id="alfred-https-www-alfredapp-com-powerpack-paid"><a href="https://www.alfredapp.com">Alfred</a> + Powerpack (paid)</h3>

<ul>
<li>a must-have for most of macOS users. The free version is useful enough but the paid (for Powerpack) is excellent.</li>
</ul>

<pre><code class="language-sh">$ brew cask install alfred
</code></pre>

<h3 id="1password-https-1password-com"><a href="https://1password.com">1Password</a></h3>

<ul>
<li>Help storing all of your private information and authentications in a place of your choice (e.g. iCloud or Dropbox) and using them in macOS or iOS.</li>
</ul>

<pre><code class="language-sh">$ brew cask install 1password
</code></pre>

<h3 id="f-lux-https-justgetflux-com"><a href="https://justgetflux.com/">F.lux</a></h3>

<ul>
<li>Saving your eyes when staring at your computer&rsquo;s monitors (macOS also has Night Shift mode but my eyes still find F.lux more pleasant)</li>
</ul>

<pre><code class="language-sh">$ brew cask install flux
</code></pre>

<h3 id="web-browers">Web Browers</h3>

<ul>
<li>I install Firefox and Google Chrome mainly for Web development, testing and debugging because I find Safari is sufficient (not perfect though) for daily use and sharing bookmarks and history links between macOS and iPhone is nice.</li>
</ul>

<pre><code class="language-sh">$ brew cask install google-chrome firefox
</code></pre>

<h3 id="remote-access">Remote Access</h3>

<ul>
<li>SSH/SFTP</li>
</ul>

<pre><code class="language-sh"># I prefer OpenSSH to the stock BSD SSH
$ brew install openssh
# ... and I need to quickly copy my public key to the servers
$ brew install ssh-copy-id
# generate key pair
$ ssh-keygen -t rsa -b 4096 -C &quot;MacBookPro email@example.com&quot;
# copy the public key to the host for passwordless authentication
$ ssh-copy-id user@host
</code></pre>

<ul>
<li>Networking Tools</li>
</ul>

<pre><code class="language-sh">$ brew install netcat curl wget nmap
</code></pre>

<h3 id="communication">Communication</h3>

<ul>
<li><a href="https://www.skype.com">Skype</a></li>
</ul>

<pre><code class="language-sh">$ brew cask install skype
</code></pre>

<ul>
<li><a href="https://www.slack.com">Slack</a></li>
</ul>

<pre><code class="language-sh">$ brew cask install slack
</code></pre>

<h3 id="gnu-tools">GNU Tools</h3>

<pre><code class="language-sh">$ brew install coreutils autoconf automake findutils gawk gcc gnu-sed grep
</code></pre>

</div>
            <div class="footer">
                <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>

<script type="text/javascript">
    hljs.configure({languages: []});
    hljs.initHighlightingOnLoad();
</script>

    

        <h2>Comments</h2>
        <div id="disqus_thread"></div>
<script type="text/javascript">
      (function () {
            
            
            
            if (location.hostname === "localhost" || 
            	location.hostname === "127.0.0.1" || 
            	location.hostname === "") {
                return;
			}
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            var disqus_shortname = 'https-htr3n-github-io';
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(
                  dsq);
      })();
</script>

<noscript>
	Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

      

            </div>
        </div>
        
        
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-112764962-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>

    </body>
</html>
