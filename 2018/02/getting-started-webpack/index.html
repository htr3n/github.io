<!DOCTYPE html><html lang="en"><head><link href="https://gmpg.org/xfn/11" rel="profile"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta http-equiv="Cache-Control" content="public"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="generator" content="Hugo 0.46"><title>Getting started with Webpack • htr3n&#39;s</title><meta name="description" content="htr3n&#39;s blog :: technology, thoughts, opinions, and rants"><meta name="keywords" content="blog,java,php,python,golang,javascript,shell,thoughts,macos,apple,tiếng việt,parental,family,apache,httpd,laravel,politics,critical thinking,chính trị,luật,hiến pháp,xã hội,gia đình"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Getting started with Webpack"><meta name="twitter:description" content="Webpack is a static module bundler for Web applications. It analyses and processes the input application and generates output bundles.

"><meta property="og:title" content="Getting started with Webpack"><meta property="og:description" content="Webpack is a static module bundler for Web applications. It analyses and processes the input application and generates output bundles.

"><meta property="og:type" content="article"><meta property="og:url" content="https://htr3n.github.io/2018/02/getting-started-webpack/"><meta property="og:image" content="https://htr3n.github.io/2018/02/getting-started-webpack/what-is-webpack.png"><meta property="article:published_time" content="2018-02-16T00:00:00&#43;00:00"><meta property="article:modified_time" content="2018-02-16T00:00:00&#43;00:00"><link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,300i,400,700,700i" rel="stylesheet"><link rel="stylesheet" href="/css/hyde-hyde.css"><link rel="stylesheet" href="/css/print.min.css" media="print"><!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries --><!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]--><!-- Icons --><link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png"><link rel="shortcut icon" href="/favicon.png"></head><body><div class="sidebar"><div class="container"><div class="sidebar-about"><span class="site__title"><a href="https://htr3n.github.io/">htr3n&#39;s</a></span><div class="author-image"><img src="https://htr3n.github.io/img/avatar.png" alt="Author Image" class="img--circle img--headshot element--center"></div><p class="site__description"></p></div><div><ul class="sidebar-nav"><li><a href="/posts/"><span>Posts</span></a></li><li><a href="/portfolio/"><span>Portfolio</span></a></li><li><a href="/vn/"><span>Tiếng Việt</span></a></li><li><a href="/about/"><span>About</span></a></li></ul></div><p><section class="social"><a href="https://twitter.com/htr3n"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a> &nbsp;<a href="https://github.com/htr3n"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a> &nbsp;<a href="https://linkedin.com/in/htr3n"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a> &nbsp;<a href="https://stackoverflow.com/users/339302"><i class="fab fa-stack-overflow fa-lg" aria-hidden="true"></i></a> &nbsp;<a href="https://keybase.io/htr3n"><i class="fab fa-keybase fa-lg" aria-hidden="true"></i></a> &nbsp;<a href="mailto:hoang.huy.tran&#43;blog@gmail.com"><i class="fas fa-at fa-lg" aria-hidden="true"></i></a></section></p><p class="copyright">&copy; 2018 htr3n. <a href="https://creativecommons.org/licenses/by-sa/4.0">Some Rights Reserved</a>.<br>Built with <a href="https://gohugo.io">Hugo</a> ❤️ <a href="https://github.com/htr3n/hyde-hyde">hyde-hyde</a>.</p></div><div></div></div><div class="content container"><article><header><h1>Getting started with Webpack</h1><div class="post__meta"><i class="fas fa-calendar-alt"></i> Feb 16, 2018 in <a class="badge badge-category" href="/categories/dev">DEV</a><br><i class="fas fa-tags"></i> <a class="badge badge-tag" href="/tags/webpack">webpack</a> <a class="badge badge-tag" href="/tags/javascript">javascript</a> <a class="badge badge-tag" href="/tags/bundler">bundler</a> <a class="badge badge-tag" href="/tags/module">module</a><br><i class="fas fa-clock"></i> 5 min read</div></header><div class="post"><p>Webpack is a <a href="https://webpack.js.org/concepts"><em>static module bundler</em></a> for Web applications. It analyses and processes the <em>input application</em> and generates output <em>bundles</em>.</p><p></p><p>The design of Webpack architecture is highly modularised and extendable. In this post, I share here some notes on major aspects of Webpack since I&rsquo;ve started learning it.</p><figure><img src="https://htr3n.github.io/2018/02/getting-started-webpack/what-is-webpack.png" alt="Webpack overview" style="max-width: 100%;"><figcaption><span class="img--caption">Figure 1. Webpack overview [<a href="https://webpack.github.io">source</a>]</span></figcaption></figure><h3 id="main-concepts">Main Concepts</h3><h5 id="configuration-https-webpack-js-org-concepts-configuration"><a href="https://webpack.js.org/concepts/configuration">Configuration</a></h5><p>Webpack&rsquo;s configuration is conventionally defined using a file <code>webpack.config.js</code>. It is a JavaScript/Node.js source file. A comprehensive example of <code>webpack.config.js</code> can be found <a href="https://webpack.js.org/configuration/#options">here</a>. The four major parts of Webpack&rsquo;s configuration are <em>entry</em>, <em>output</em>, <em>loaders</em> and <em>plugins</em>.</p><ul><li><a href="https://webpack.js.org/concepts/entry-points">Entry</a>: An entry denotes the starting point where Webpack commences buidling the internal <em>dependency graph</em> by analysing all direct and indirect dependencies. There might be more than one entry.</li><li><a href="https://webpack.js.org/concepts/output">Output</a>: The output part defines the places where Webpack stores and how to name the outputs.</li><li><a href="https://webpack.js.org/concepts/loaders">Loaders</a>: Webpack uses loaders to handle files other than JavaScript by transform them into modules that can be processed by Webpack. Loaders are configured using <code>module.rules</code> that specify the properties <code>test</code> (what/which files to be transformed) and <code>use</code> (which loaders to be used).</li><li><a href="https://webpack.js.org/concepts/plugins">Plugins</a>: Plugins are important part of Webpack that will carry out different kinds of tasks such as checking, combining files, optimised outputs, and so on. Webpack provides a <a href="https://webpack.js.org/api/plugins">clear interface</a> for creating and/or extending plugins.</li></ul><h5 id="modules-https-webpack-js-org-concepts-modules"><a href="https://webpack.js.org/concepts/modules">Modules</a></h5><p>Webpack considers almost each file of any kinds a <em>module</em>. The dependencies between modules can be described via various ways, for instance using ES2015&rsquo;s <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import"><code>import</code></a>, CommonJS&rsquo;s <a href="http://www.commonjs.org/specs/modules/1.0"><code>require()</code></a>, <a href="https://github.com/amdjs/amdjs-api/blob/master/AMD.md">AMD</a>&rsquo;s <code>define</code> and <code>require</code>, and CSS&rsquo;s <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@import"><code>@import</code></a>. Some built-in module types supported by Webpack are including CoffeeScript, TypeScript, Babel, Sass, Less, and Stylus.</p><h5 id="dependency-graph-https-webpack-js-org-concepts-dependency-graph"><a href="https://webpack.js.org/concepts/dependency-graph">Dependency Graph</a></h5><p>When a file or module needs another, it is considered a <em>dependency</em>. Webpack analyses all possible dependencies and builds a <a href="https://en.wikipedia.org/wiki/Dependency_graph">graph</a> that includes all <em>needed modules</em> starting from the <em>entry points</em>. The <em>dependency graph</em> is then used to package these modules into the <em>output bundles</em>.</p><h3 id="some-typical-usage-scenarios">Some Typical Usage Scenarios</h3><h5 id="1-a-simple-greeting">1. A Simple Greeting</h5><p>To demonstrate the simplest and, somewhat naive, usage of Webpack, we will create a small project as following.</p><pre><code>simple-greeting
 ├── package.json
 ├── public
 │   └── index.html
 ├── src
 │   └── main.js
 └── webpack.config.js
</code></pre><p>The <code>package.json</code> can be quickly instantiated using <a href="https://www.npmjs.com">npm</a> or <a href="https://yarnpkg.com">yarn</a>, as I prefer)</p><pre><code class="language-sh">$ cd simple-greeting
# create a package.json with default options
$ yarn init -y
# now we use npm install webpack as a dependency of our project
$ yarn add --dev webpack
</code></pre><p>Let&rsquo;s create a JavaScript <code>src/main.js</code> that contains our main business logic, i.e. writing out a heading 1 <code>Hello Webpack!</code>.</p><pre><code class="language-javascript">document.write('&lt;h1&gt;Hello Webpack!&lt;/h1&gt;');
</code></pre><p>And we edit <code>public/index.html</code>.</p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Getting Started with Webpack - A Simple Greeting&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;script src=&quot;bundle.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><p>You might have noticed that <code>index.html</code> uses <code>bundle.js</code> instead of <code>main.js</code> that we created above. You are right, <code>bundle.js</code> is generated by Webpack given the input <code>main.js</code>. Let&rsquo;s create a config file <code>webpack.config.js</code> to do that.</p><pre><code class="language-javascript">const webpack = require('webpack');
const path = require('path');

module.exports = {
  entry: './src/main.js',
  output: {
    path: path.resolve(__dirname, 'public'),
    filename: 'bundle.js',
  }
};
</code></pre><p>After that, a simple invocation of <code>webpack</code> at the command line will work. Please note that <code>npm</code> installs the executable <code>webpack</code> inside <code>node_modules/.bin</code>.</p><pre><code class="language-sh">$ node_modules/.bin/webpack
Hash: 9300b893968675cae1ef
Version: webpack 3.11.0
Time: 81ms
    Asset     Size  Chunks             Chunk Names
bundle.js  2.52 kB       0  [emitted]  main
   [0] ./src/main.js 43 bytes {0} [built]
</code></pre><p>The execution of <code>webpack</code> command should be successful. Now should you open <code>public/index.html</code> using a Web browser, you will see &ldquo;<strong>Hello Webpack</strong>&rdquo;.</p><h4 id="2-using-loaders">2. Using Loaders</h4><p>Several loaders have been developed for Webpack in order to handle various application resource types. An incompleted list of Webpack loaders can be found <a href="https://github.com/webpack-contrib/awesome-webpack#loaders">here</a>. We will exemplify <a href="https://github.com/webpack-contrib/eslint-loader"><code>eslint-loader</code></a> for analysing JavaScript sources and reporting errors, if any.</p><p>Let&rsquo;s reuse the previous example <code>webpack.config.js</code> and add the <code>eslint-loader</code>.</p><pre><code class="language-javascript">module.exports = {
    entry: './src/main.js',
    output: {
        path: path.resolve(__dirname, 'public'),
		filename: 'bundle.js'
    },    
    module: {
        rules: [
            {
                test:/\.js$/,
                exclude:/node_modules/,
                loader: 'eslint-loader'
            }
        ],   
    },
};
</code></pre><p>We also needs, at least, the following packages: <code>eslint</code> and <code>eslint-loader</code> which can be easily installed. In case you need further styles or rules, you can install more packages, for instance, <code>eslint-config-airbnb</code>, <code>eslint-config-google</code>, to name but a few.</p><pre><code class="language-sh">$ yarn add --dev eslint eslint-loader
</code></pre><p>For starting, we can initialise a simple configuration for <em>eslint</em> using the option <code>--init</code> and answer the corresponding questions. <code>eslint</code> will create a file <code>.eslintrc.xxx</code> where &ldquo;xxx&rdquo; is either &ldquo;js&rdquo;, &ldquo;json&rdquo;, or &ldquo;yaml&rdquo; depending on which file format you had chosen.</p><pre><code class="language-sh">$ eslint --init
...
</code></pre><p>Then we can invoke <code>webpack</code> to trigger the loader. For example, we can add the following line in the <code>src/main.js</code></p><pre><code class="language-javascript">document.write('&lt;h1&gt;Hello Webpack!&lt;/h1&gt;');
document.write(x); // eslint will report an error here
</code></pre><pre><code class="language-sh">$ webpack
Hash: 9b7cb596310bf077e30b
Version: webpack 3.11.0
Time: 622ms
    Asset     Size  Chunks             Chunk Names
bundle.js  2.53 kB       0  [emitted]  main
   [0] ./src/main.js 61 bytes {0} [built] [1 error]

ERROR in ./src/main.js

/Users/huytran/working/dev/dev-web/webpack-demo/using-linter/src/main.js
  2:16  error  'x' is not defined  no-undef

✖ 1 problem (1 error, 0 warnings)
</code></pre><p>So you can see that <code>eslint-loader</code> indeed caught the intended error. All errors should be fixed such that Webpack can move forward.</p><h4 id="3-using-plugins">3. Using Plugins</h4><p>As mentioned above, Webpack architecture enables the use of plugins for performing various kinds of tasks, for example, merging, minimising or uglifying source code. Many of Webpack plugins and guides can be found <a href="https://webpack.js.org/plugins">here</a> or <a href="https://github.com/webpack-contrib/awesome-webpack#webpack-plugins">here</a>. We take an example of <a href="https://webpack.js.org/plugins/uglifyjs-webpack-plugin"><code>UglifyjsWebpackPlugin</code></a> to illustrate how plugins actually work.</p><p>Let&rsquo;s modify the file <code>webpack.config.js</code> taken from the previous scenarios and add the <code>plugins</code> part.</p><pre><code class="language-javascript">module.exports = {
    entry: './src/main.js',
    output: {
        path: path.resolve(__dirname, 'public'),
		filename: 'bundle.js'
    },
    ...
    plugins: [
        new webpack.optimize.UglifyJsPlugin()
    ]
};
</code></pre><p>After executing <code>node_modules/.bin/webpack</code> again, you can see that JavaScript source in <code>public/bundle.js</code> has been uglified/minimised whilst the ouput of <code>public/index.html</code> remains in tact.</p><p>So far, we have walked through some simple scenarios. They are not quite complex and might have not yet shown all aspects and power of Webpack. Nevertheless, I hope they are sufficient for just showing the basis of Webpack architecture and how it works.</p><p>The aforementioned demo projects are hosted at Github, respectively.</p><ul><li><a href="https://github.com/htr3n/webpack-simple-greeting">https://github.com/htr3n/webpack-simple-greeting</a></li><li><a href="https://github.com/htr3n/webpack-with-loaders">https://github.com/htr3n/webpack-with-loaders</a></li><li><a href="https://github.com/htr3n/webpack-with-plugins">https://github.com/htr3n/webpack-with-plugins</a></li></ul></div><div class="post--navigation post--navigation-single"><a href="/2018/01/first-experience-with-hugo/" class="post--navigation-prev"><i aria-hidden="true" class="fa fa-chevron-left"></i> <span class="navigation-tittle">First experience with Hugo</span> </a><a href="/2018/03/confusing-hugo-issues-datetime-and-isset/" class="post--navigation-next"><span class="navigation-tittle">Confusing Hugo issues: datetime and &#39;isset&#39;</span> <i aria-hidden="true" class="fa fa-chevron-right"></i></a></div><div id="disqus_thread"></div><script type="text/javascript">(function () {
    if (location.hostname === "localhost" ||
      location.hostname === "127.0.0.1" ||
      location.hostname === "") {
      return;
    }
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    var disqus_shortname = 'https-htr3n-github-io';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || 
      document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></article></div><script>var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-112764962-1', 'auto');
	
	ga('send', 'pageview');
}</script><script async src="https://www.google-analytics.com/analytics.js"></script><script defer="defer" src="https://use.fontawesome.com/releases/v5.2.0/js/all.js" integrity="sha384-4oV5EgaV02iISL2ban6c/RmotsABqE4yZxZLcYMAdG7FAPsyHYAPpywE9PJo+Khy" crossorigin="anonymous"></script><noscript id="deferred-styles"><link rel="stylesheet" type="text/css" href="https://htr3n.github.io/css/atom-one-light.min.css"></noscript><script>var loadDeferredStyles = function () {
    var addStylesNode = document.getElementById("deferred-styles");
    if (addStylesNode) {
      var replacement = document.createElement("div");
      replacement.innerHTML = addStylesNode.textContent;
      document.body.appendChild(replacement);
      addStylesNode.parentElement.removeChild(addStylesNode);
    }
  };
  var raf = window.requestAnimationFrame || window.mozRequestAnimationFrame ||
    window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;
  if (raf) raf(function () {
    window.setTimeout(loadDeferredStyles, 0);
  });
  else
    window.addEventListener('load', loadDeferredStyles);</script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script><script type="text/javascript">hljs.initHighlightingOnLoad();</script></body></html>